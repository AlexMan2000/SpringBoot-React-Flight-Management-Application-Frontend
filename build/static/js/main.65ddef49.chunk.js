(this.webpackJsonpdatabase_front=this.webpackJsonpdatabase_front||[]).push([[0],{1170:function(e,t,a){"use strict";a.r(t);var i=a(0),r=a.n(i),n=a(47),s=a.n(n),c=(a(720),a(668)),l=a(68),o=a(1186),u=a(89),d=a(667),m=a(55),j=a(35),b=a.n(j),p=a(114),h=a.n(p),f=a(4);b.a.defaults.withCredentials=!0;var O=c.a.Title;function g(){Object(m.f)();return Object(f.jsx)("div",{style:{textAlign:"center",width:"100%",position:"absolute",top:"40vh"},children:Object(f.jsxs)(d.a,{type:"left",children:[Object(f.jsx)(O,{style:{},children:"A Light Weight Airline System"},"ele1"),Object(f.jsx)(l.a,{type:"primary",shape:"circle",size:"large",children:Object(f.jsx)(u.b,{to:"/global",children:Object(f.jsx)(o.a,{})})},"ele2")]})})}var x=a(33),y=a(22),v=a(72),k=a(285),I=a(673),S=a(101),C=a(1187),A=a(1188);function N(e){var t=e.loginInfo,a=e.setInitializeType,r=e.setRegisterModalVisible,n=(e.registerLoginValue,e.setRegisterLoginValue,e.setNavigateBar),s=e.setLoginModalVisible,c=Object(m.f)(),o=v.a.useForm(),u=Object(y.a)(o,1)[0],d=Object(i.useState)("customer"),j=Object(y.a)(d,2),p=j[0],h=j[1],O={customer:"E-mail",agent:"E-mail",staff:"Username"};return Object(f.jsx)(I.a,{style:{width:"100%",display:"block",marginLeft:"auto",marginRight:"auto"},tabList:[{key:"customer",tab:"Customer"},{key:"agent",tab:"Booking Agent"},{key:"staff",tab:"Airline Staff"}],activeTab:p,onTabChange:function(e){h(e),u.resetFields()},children:Object(f.jsxs)(v.a,{form:u,name:"login",className:"login-form",onFinish:function(e){b()({url:"http://localhost:8080/login",method:"post",data:Object(x.a)({userType:p},e)}).then((function(e){var a=e.data;if(!0===a.status){if("customer"===p){var i=a.customer.name,r=Object(x.a)({alias:i},a.customer);t.current=r}else if("staff"===p){var l=a.airlineStaff.username,o=Object(x.a)({alias:l},a.airlineStaff);t.current=o}else if("agent"===p){var d=a.bookingAgent.email,m=Object(x.a)({alias:d},a.bookingAgent);t.current=m}n(p),s(!1),c("/"+p,{replace:!0})}else 1===a.statusCode?u.setFields([{name:"customer"===p?"email":"username",errors:["User Not Found! Please Register First!"]}]):2===a.statusCode?u.setFields([{name:"password",errors:["Password Error!"]}]):3===a.statusCode&&u.setFields([{name:"bookingAgentId",errors:["BookingId Error!"]}])})).catch((function(e){k.b.error("Server response time out!")}))},onFinishedFailed:function(){alert("\u5b57\u6bb5\u6709\u8bef")},children:["staff"===p&&Object(f.jsx)(v.a.Item,{name:"username",rules:[{required:!0,message:"Please input your "+O[p]}],children:Object(f.jsx)(S.a,{prefix:Object(f.jsx)(C.a,{className:"site-form-item-icon"}),placeholder:O[p]})}),"staff"!=p&&Object(f.jsx)(v.a.Item,{name:"email",rules:[{required:!0,message:"Please input your email"},{type:"email",message:"This is not a valid email type"}],children:Object(f.jsx)(S.a,{prefix:Object(f.jsx)(C.a,{className:"site-form-item-icon"}),placeholder:"E-mail"})}),Object(f.jsx)(v.a.Item,{name:"password",rules:[{required:!0,message:"Please input your password"}],dependencies:["password"],children:Object(f.jsx)(S.a.Password,{prefix:Object(f.jsx)(A.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Password"})}),"agent"===p&&Object(f.jsx)(v.a.Item,{name:"agentId",rules:[{required:!0,message:"Please input your booking agent Id"}],children:Object(f.jsx)(S.a,{prefix:Object(f.jsx)(C.a,{className:"site-form-item-icon"}),placeholder:"Agent Id"})}),Object(f.jsxs)(v.a.Item,{children:[Object(f.jsx)(l.a,{type:"primary",htmlType:"submit",className:"login-form-button",children:"Log in"}),Object(f.jsx)(l.a,{type:"primary",className:"register-form-button",style:{marginLeft:"270px"},onClick:function(){r(!0),a(p)},children:"Register"})]})]})})}b.a.defaults.timeout=1e3,b.a.defaults.withCredentials=!0;var T="YYYY-MM-DD",w=a(140),D=a.n(w),F=a(161),P=a(147);function M(e){var t=e.initializeType,a=e.setRegisterModalVisible,r=(e.setRegisterLoginValue,e.setNavigateBar),n=F.a.Option,s=Object(m.f)(),c=v.a.useForm(),o=Object(y.a)(c,1)[0],u=Object(i.useState)([]),d=Object(y.a)(u,2),j=(d[0],d[1],Object(f.jsx)(v.a.Item,{name:"prefix",noStyle:!0,children:Object(f.jsxs)(F.a,{style:{width:70},children:[Object(f.jsx)(n,{value:"86",children:"+86"}),Object(f.jsx)(n,{value:"87",children:"+87"})]})})),p=(v.a.Item,F.a,Object(i.useState)([])),h=Object(y.a)(p,2),O=h[0];h[1],O.map((function(e){return{label:e,value:e}}));return Object(f.jsx)(I.a,{title:"Please input your personal information to register",children:Object(f.jsxs)(v.a,Object(x.a)(Object(x.a)({},{labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}}),{},{form:o,name:"register",onFinish:function(e){b()({method:"POST",url:"customer"===t?"http://localhost:8080/register/registerCustomer":"staff"===t?"http://localhost:8080/register/registerAirlineStaff":"http://localhost:8080/register/registerBookingAgent",data:e}).then((function(e){"success"===e.data&&(k.b.success("Register Completed!"),r("global"),a(!1),s("/global",{replace:!0}))}))},initialValues:{residence:["zhejiang","hangzhou","xihu"],prefix:"86"},scrollToFirstError:!0,children:[" ","staff"!==t&&Object(f.jsx)(v.a.Item,{name:"email",label:"E-mail",rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"},{validator:function(e,a,i){b()({method:"GET",url:"agent"===t?"http://localhost:8080/register/validateBookingAgent":"http://localhost:8080/register/validateCustomer",params:{email:a}}).then((function(e){!1===e.data.valid?i("agent"===t?"Agent already registered!":"Customer already registered!"):i()})).catch((function(e){k.b.error("Back end server not started!")}))}}],validateTrigger:"onBlur",hasFeedback:!0,children:Object(f.jsx)(S.a,{style:{width:"80%"}})}),"staff"===t&&Object(f.jsx)(v.a.Item,{name:"username",label:"Username",validateTrigger:"onBlur",hasFeedback:!0,rules:[{required:!0,message:"Please input your username"},{validator:function(e,t,a){b()({method:"GET",url:"http://localhost:8080/register/validateAirlineStaff",params:{username:t}}).then((function(e){!1===e.data.valid?a("Staff already registered!"):a()})).catch((function(e){k.b.error("Back end server not started!")}))}}],children:Object(f.jsx)(S.a,{style:{width:"80%"}})}),"customer"===t&&Object(f.jsx)(v.a.Item,{name:"name",label:"Name",rules:[{required:!0,message:"Please input your name"}],hasFeedback:!0,children:Object(f.jsx)(S.a,{style:{width:"80%"}})}),Object(f.jsx)(v.a.Item,{name:"password",label:"Password",rules:[{required:!0,message:"Please input your password!"},{min:6,message:"The length of the password cannot be less than 6 characters!"},{max:20,message:"The length of the password cannot be more than 20 characters!"},{pattern:/^[a-zA-Z]\w+/,message:"The password must start with alphabat"},function(e){var t=e.getFieldValue;return{validator:function(e,a){return a&&t("email")===a?Promise.reject(new Error("Email cannot be the same as the password!")):Promise.resolve()}}}],hasFeedback:!0,children:Object(f.jsx)(S.a.Password,{style:{width:"80%"}})}),Object(f.jsx)(v.a.Item,{name:"confirm",label:"Confirm Password",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"Please confirm your password!"},function(e){var t=e.getFieldValue;return{validator:function(e,a){return a&&t("password")!==a?Promise.reject(new Error("The two passwords that you entered do not match!")):Promise.resolve()}}}],children:Object(f.jsx)(S.a.Password,{style:{width:"80%"}})}),"staff"===t&&Object(f.jsx)(v.a.Item,{name:"firstName",label:"First Name",tooltip:"What do you want others to call you?",rules:[{required:!0,message:"Please input your last name!",whitespace:!0}],children:Object(f.jsx)(S.a,{style:{width:"80%"}})}),"staff"===t&&Object(f.jsx)(v.a.Item,{name:"lastName",label:"Last Name",tooltip:"What do you want others to call you?",rules:[{required:!0,message:"Please input your last name!",whitespace:!0}],children:Object(f.jsx)(S.a,{style:{width:"80%"}})}),"agent"!==t&&Object(f.jsx)(v.a.Item,{name:"birthday",label:"Birth Day",tooltip:"Click the calendar button to select a date",rules:[{required:!0,message:"Please input your birth day!"}],children:Object(f.jsx)(P.a,{format:T,style:{width:200}})}),"customer"===t&&Object(f.jsx)(v.a.Item,{name:"phoneNumber",label:"Phone Number",rules:[{required:!0,message:"Please input your phone number!"}],children:Object(f.jsx)(S.a,{addonBefore:j,style:{width:"80%"}})}),"staff"===t&&Object(f.jsx)(v.a.Item,{name:"airlineName",label:"Airline Name",rules:[{required:!0,message:"Please input donation amount!"}],children:Object(f.jsx)(S.a,{style:{width:"80%"}})}),"customer"===t&&Object(f.jsx)(v.a.Item,{name:"buildingNumber",label:"Building Number",rules:[{required:!0,message:"Please input your building number!"}],children:Object(f.jsx)(S.a,{style:{width:"80%"}})}),"customer"===t&&Object(f.jsx)(v.a.Item,{name:"street",label:"Street Info",rules:[{required:!0,message:"Please input your street info!"}],children:Object(f.jsx)(S.a,{style:{width:"80%"}})}),"customer"===t&&Object(f.jsx)(v.a.Item,{name:"city",label:"City",tooltip:"Could register with abbreviation",rules:[{required:!0,message:"Please input your city!"}],children:Object(f.jsx)(S.a,{style:{width:"80%"}})}),"customer"===t&&Object(f.jsx)(v.a.Item,{name:"livingState",label:"State",rules:[{required:!0,message:"Please input your state info!"}],children:Object(f.jsx)(S.a,{style:{width:"80%"}})}),"customer"===t&&Object(f.jsx)(v.a.Item,{name:"passportNumber",label:"Passport Number",rules:[{required:!0,message:"Please input your passport number!"}],children:Object(f.jsx)(S.a,{style:{width:"80%"}})}),"customer"===t&&Object(f.jsx)(v.a.Item,{name:"passportExpiration",label:"Passport Expiration Date",rules:[{required:!0,message:"Please input your passport expiration date!"}],children:Object(f.jsx)(P.a,{format:T,style:{width:200}})}),"customer"===t&&Object(f.jsx)(v.a.Item,{name:"passportCountry",label:"Passport Country",rules:[{required:!0,message:"Please input your passport country!"}],children:Object(f.jsx)(S.a,{style:{width:"80%"}})}),"agent"===t&&Object(f.jsx)(v.a.Item,{name:"bookingAgentId",label:"Agent Id",rules:[{required:!0,message:"Please input your agent ID!"}],children:Object(f.jsx)(S.a,{style:{width:"80%"}})}),Object(f.jsx)(v.a.Item,{name:"intro",label:"Intro",children:Object(f.jsx)(S.a.TextArea,{showCount:!0,maxLength:100,style:{width:"80%"}})}),Object(f.jsxs)(v.a.Item,Object(x.a)(Object(x.a)({},{wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}}),{},{children:[Object(f.jsx)(l.a,{type:"primary",htmlType:"submit",children:"Register"}),Object(f.jsx)(l.a,{type:"primary",onClick:function(){a(!1)},children:"Back"})]}))]}))})}b.a.defaults.timeout=2e3;var R=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,1195)).then((function(t){var a=t.getCLS,i=t.getFID,r=t.getFCP,n=t.getLCP,s=t.getTTFB;a(e),i(e),r(e),n(e),s(e)}))},Y=(a(518),a(1181)),V=a(103),E=a(671),_=a(1185),B=a(169),q=a(672),H=a(1183),L=a(1190),z=a(1189);function G(e){var t=5,a=e.current.alias,i=E.a.success({title:"See you, ".concat(a),content:"Close in ".concat(t," second.")}),r=setInterval((function(){t-=1,i.update({content:"Close in ".concat(t," second.")})}),1e3);setTimeout((function(){clearInterval(r),i.destroy()}),1e3*t)}var U=V.a.SubMenu;function K(e){var t=e.loginInfo,a=e.updateSelection,r=e.defaultData,n=e.setActionType,s=e.setDeptDate,c=e.setFlightResult,l={1:"Search flights",2:"Purchase tickets",3:"My flights",4:"Track spending",5:"Logout"},o=Object(m.f)(),u={1:"search",2:"purchase",3:"view"};return Object(i.useEffect)((function(){a("Search flights"),n("search")}),[]),Object(f.jsxs)(V.a,{mode:"inline",defaultSelectedKeys:["1"],defaultOpenKeys:["sub1"],onClick:function(e){"Logout"==l[e.key]?(G(t),t.current=null,h.a.remove("JSESSIONID"),o("/",{replace:!0})):"Search flights"==l[e.key]?(a(l[e.key]),c(r.current),n(u[e.key]),s(void 0)):(a(l[e.key]),c(null),n(u[e.key]),s(void 0))},style:{height:"100%",borderRight:0},children:[Object(f.jsxs)(U,{icon:Object(f.jsx)(z.a,{}),title:"Booking",children:[Object(f.jsx)(V.a.Item,{children:l[1]},"1"),Object(f.jsx)(V.a.Item,{children:l[2]},"2")]},"sub1"),Object(f.jsxs)(U,{icon:Object(f.jsx)(C.a,{}),title:"Mine",children:[Object(f.jsx)(V.a.Item,{children:l[3]},"3"),Object(f.jsx)(V.a.Item,{children:l[4]},"4")]},"sub2"),Object(f.jsx)(U,{icon:Object(f.jsx)(L.a,{}),title:"Operation",children:Object(f.jsx)(V.a.Item,{children:l[5]},"5")},"sub3")]})}var W=a(488),Z={upcoming:"blue",cancelled:"gray","checking in":"yellow",delayed:"red","on time":"green",full:"black"},X=a(676),J=a(59),$=a(677),Q=a(1191),ee=a(31),te=a.n(ee),ae=function(e){return e?te()(e).format("YYYY-MM-DD HH:mm:ss"):""},ie=[{title:"Flight No.",dataIndex:"flight_id",key:"flight"},{title:"Dept. Airport",dataIndex:"dept",key:"dept"},{title:"Arri. Airport",dataIndex:"arri",key:"arri"},{title:"Dept. Time",dataIndex:"dept_time",key:"dept_time",render:ae},{title:"Arri. Time",dataIndex:"arri_time",key:"arri_time",render:ae},{title:"Status",dataIndex:"status",key:"status",render:function(e){return Object(f.jsx)(f.Fragment,{children:e.map((function(e){return Object(f.jsx)(X.a,{color:Z[e],children:e.toUpperCase()},e)}))})}}];var re=a(396),ne=a(1192);a(290);function se(e){var t=e.loginInfo,a=e.customerModalVis,r=e.setCustomerModalVis,n=e.rowRecord,s=e.setRowRecord,c=Object(i.useState)("purchase"),o=Object(y.a)(c,2),u=o[0],d=o[1],m=Object(i.useState)({}),j=Object(y.a)(m,2),p=j[0],h=j[1],O=v.a.Item,g=v.a.useForm(),k=Object(y.a)(g,1)[0],I=[{title:"Airline Name",description:p.airlineName},{title:"Flight No.",description:p.flightNum},{title:"Purchase Date",description:p.purchaseDate},{title:"Ticket ID",description:p.ticketNum}];return Object(f.jsx)(E.a,{width:640,bodyStyle:{padding:"32px 40px 48px"},destroyOnClose:!0,title:"purchase"===u?"Purchase Ticket":"Purchasement Info",visible:a,footer:"purchase"===u?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(l.a,{onClick:function(){return r(!1)},children:"Cancel"}),Object(f.jsx)(l.a,{type:"primary",onClick:function(){return console.log({airlineName:k.getFieldValue("airlineName"),flightNum:k.getFieldValue("flightNum"),email:t.current?t.current.email:"12345@qq.com",bookingAgentId:null}),void b()({url:"http://localhost:8080/customer/purchaseTicket",method:"POST",data:{airlineName:k.getFieldValue("airlineName"),flightNum:k.getFieldValue("flightNum"),email:t.current?t.current.email:"12345@qq.com",bookingAgentId:null}}).then((function(e){e.data&&(d("confirm"),h(e.data))}))},children:"Purchase"})]}):"confirm"===u?Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(l.a,{type:"primary",onClick:function(){r(!1),d("purchase")},children:"Confirm"})}):void 0,onCancel:function(){r(!1),s(!1)},children:Object(f.jsx)(v.a,Object(x.a)(Object(x.a)({},{labelCol:{span:7},wrapperCol:{span:13}}),{},{form:k,initialValues:{airlineName:n.airline,flightNum:n.flight_id},children:"purchase"===u?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O,{name:"flightNum",label:"Flight Number",rules:[{required:!0,message:"Please input flight number!"}],children:Object(f.jsx)(S.a,{disabled:!0})}),Object(f.jsx)(O,{name:"airlineName",label:"Airline Name",rules:[{required:!0,message:"Please input airline name!"}],children:Object(f.jsx)(S.a,{disabled:!0})})]}):"confirm"===u?Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(_.b,{itemtlayout:"horizontal",dataSource:I,renderItem:function(e){return"Purchase Date"===e.title?Object(f.jsx)(_.b.Item,{children:Object(f.jsx)(_.b.Item.Meta,{title:e.title,description:te()(e.description).format("yyy-MM-DD")})}):Object(f.jsx)(_.b.Item,{children:Object(f.jsx)(_.b.Item.Meta,{title:e.title,description:e.description})})}})}):void 0}))})}function ce(e){var t=e.loginInfo,a=e.agentModalVis,r=e.setAgentModalVis,n=e.rowRecord,s=e.setRowRecord,c=Object(i.useState)("purchase"),o=Object(y.a)(c,2),u=o[0],d=o[1],m=Object(i.useState)({}),j=Object(y.a)(m,2),p=j[0],h=j[1],O=v.a.Item,g=v.a.useForm(),k=Object(y.a)(g,1)[0],I=[{title:"Airline Name",description:p.airlineName},{title:"Flight No.",description:p.flightNum},{title:"Customer on behalf",description:p.email},{title:"Commission Fee Earned",description:p.commissionFee},{title:"Purchase Date",description:p.purchaseDate},{title:"Ticket ID",description:p.ticketNum}],C=function(e,t,a){b()({method:"GET",url:"http://localhost:8080/bookingAgent/validateCustomer",params:{email:t}}).then((function(e){!1===e.data.valid?(console.log("false"),a("Customer Email not found!")):a()}))};return console.log(n.airline),Object(f.jsx)(E.a,{width:640,bodyStyle:{padding:"32px 40px 48px"},destroyOnClose:!0,title:"purchase"===u?"Purchase Ticket":"Purchasement Info",visible:a,footer:"purchase"===u?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(l.a,{onClick:function(){return r(!1)},children:"Cancel"}),Object(f.jsx)(l.a,{type:"primary",onClick:function(){b()({url:"http://localhost:8080/bookingAgent/purchaseTicket",method:"POST",data:{airlineName:k.getFieldValue("airlineName"),flightNum:k.getFieldValue("flightNum"),email:k.getFieldValue("email"),bookingAgentId:t.current?t.current.bookingAgentId:13123123}}).then((function(e){e.data&&(d("confirm"),h(e.data))}))},children:"Purchase"})]}):"confirm"===u?Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(l.a,{type:"primary",onClick:function(){r(!1),d("purchase")},children:"Confirm"})}):void 0,onCancel:function(){r(!1),s(!1)},children:Object(f.jsx)(v.a,Object(x.a)(Object(x.a)({},{labelCol:{span:7},wrapperCol:{span:13}}),{},{form:k,initialValues:{airlineName:n.airline,flightNum:n.flight_id},children:"purchase"===u?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O,{name:"flightNum",label:"Flight Number",rules:[{required:!0,message:"Please input flight number!"}],children:Object(f.jsx)(S.a,{disabled:!0,placeholder:"\u8bf7\u8f93\u5165"})}),Object(f.jsx)(O,{name:"airlineName",label:"Airline Name",rules:[{required:!0,message:"Please input airline name!"}],children:Object(f.jsx)(S.a,{disabled:!0,placeholder:"\u8bf7\u8f93\u5165"})}),Object(f.jsx)(O,{name:"email",label:"Customer Email",rules:[{required:!0,message:"Please input the customer email that you want to purchase on behalf of"},{validator:C}],children:Object(f.jsx)(S.a,{placeholder:"Please input customer email"})})]}):"confirm"===u?Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(_.b,{itemtlayout:"horizontal",dataSource:I,renderItem:function(e){return"Purchase Date"===e.title?Object(f.jsx)(_.b.Item,{children:Object(f.jsx)(_.b.Item.Meta,{title:e.title,description:te()(e.description).format("yyy-MM-DD")})}):Object(f.jsx)(_.b.Item,{children:Object(f.jsx)(_.b.Item.Meta,{title:e.title,description:e.description})})}})}):void 0}))})}S.a.Search;var le=F.a.Option;b.a.defaults.timeout=2e3;var oe=function(e){return e?te()(e).format("YYYY-MM-DD HH:mm:ss"):""};function ue(e){var t=e.data,a=e.userType,i=(e.loginInfo,e.actionType),r=e.setRowRecord,n=e.setCustomerModalVis,s=e.setAgentModalVis,c=(P.a.RangePicker,"customer"===a?[{title:"Ticket Id",dataIndex:"ticket_id",key:"ticket"},{title:"Flight No.",dataIndex:"flight_id",key:"flight"},{title:"Dept. Airport",dataIndex:"dept",key:"dept"},{title:"Arri. Airport",dataIndex:"arri",key:"arri"},{title:"Dept. Time",dataIndex:"dept_time",key:"dept_time",render:oe},{title:"Arri. Time",dataIndex:"arri_time",key:"arri_time",render:oe},{title:"Price",dataIndex:"price",key:"price"},{title:"Status",dataIndex:"status",key:"status",render:function(e){return Object(f.jsx)(f.Fragment,{children:e.map((function(e){return Object(f.jsx)(X.a,{color:Z[e],children:e.toUpperCase()},e)}))})}},{title:"Action",key:"action",render:function(e,t){return Object(f.jsx)(J.b,{size:"middle",children:Object(f.jsxs)(l.a,{disabled:"cancelled"==t.status,onClick:function(){n(!0),r(t)},children:["Book ",t.flight_id]})})}}]:"agent"===a?[{title:"Ticket Id",dataIndex:"ticket_id",key:"ticket"},{title:"Flight No.",dataIndex:"flight_id",key:"flight"},{title:"Airline Name",dataIndex:"airline",key:"airline"},{title:"Dept. Airport",dataIndex:"dept",key:"dept"},{title:"Arri. Airport",dataIndex:"arri",key:"arri"},{title:"Dept. Time",dataIndex:"dept_time",key:"dept_time",render:oe},{title:"Arri. Time",dataIndex:"arri_time",key:"arri_time",render:oe},{title:"Price",dataIndex:"price",key:"price"},{title:"Customer Email",dataIndex:"customerEmail",key:"customerEmail"},{title:"Remaining Seats",dataIndex:"remainingSeats",key:"seats"},{title:"Purchasing Date",dataIndex:"purchaseDate",key:"purchaseDate"},{title:"Status",dataIndex:"status",key:"status",render:function(e){return Object(f.jsx)(f.Fragment,{children:e.map((function(e){return Object(f.jsx)(X.a,{color:Z[e],children:e.toUpperCase()},e)}))})}},{title:"Action",key:"action",render:function(e,t){return Object(f.jsx)(J.b,{size:"middle",children:Object(f.jsxs)(l.a,{disabled:"cancelled"==t.status||!0===t.full,onClick:function(){s(!0),r(t)},children:["Book ",t.flight_id]})})}}]:ie),o=t;return"view"!==i?o=t.map((function(e){return{key:[e.airlineName,e.flightNum],flight_id:e.flightNum,airline:e.airlineName,dept:e.sourceAirportName,arri:e.destAirportName,dept_time:e.departureTime,arri_time:e.arrivalTime,price:e.price,remainingSeats:e.remainingSeats,status:[e.status]}})):"view"===i&&(o=t.map((function(e){return{key:e.ticketId,ticket_id:e.ticketId,flight_id:e.flightNum,airline:e.airlineName,dept:e.sourceAirportName,arri:e.destAirportName,dept_time:e.departureTime,arri_time:e.arrivalTime,price:e.price,purchaseDate:e.purchaseDate?te()(e.purchaseDate).format("YYYY-MM-DD"):void 0,customerEmail:e.customerEmail,status:[e.status]}}))),"view"!==i&&(c=c.filter((function(e){return"Ticket Id"!=e.title&&"Customer Email"!==e.title&&"Purchasing Date"!=e.title}))),"purchase"!==i&&(c=c.filter((function(e){return"Action"!=e.title&&"Remaining Seats"!==e.title}))),"search"===i&&(c=c.filter((function(e){return"User ID"!=e.title}))),Object(f.jsx)(W.a,{columns:c,dataSource:o,size:"middle"})}function de(e){var t=e.loginInfo,a=e.userType,r=e.deptDate,n=e.setDeptDate,s=(e.actionTab,e.setNavigateBar,e.flightsResult),c=e.setFlightResult,o=e.actionType,u=P.a.RangePicker,d=Object(i.useState)(void 0),j=Object(y.a)(d,2),p=j[0],h=j[1],O=Object(i.useState)(void 0),g=Object(y.a)(O,2),x=g[0],v=g[1],C=Object(i.useState)([]),A=Object(y.a)(C,2),N=A[0],T=A[1],w=Object(i.useState)(void 0),M=Object(y.a)(w,2),R=M[0],Y=M[1],V=Object(i.useState)(!1),E=Object(y.a)(V,2),_=E[0],B=E[1],q=Object(i.useState)(!1),H=Object(y.a)(q,2),L=H[0],z=H[1],G=(Object(m.f)(),function(){b()({url:"http://localhost:8080/index/searchAirports",type:"GET"}).then((function(e){e.data?T(e.data):console.log("No Results")}))}),U=N.map((function(e){return Object(f.jsx)(le,{children:e},e)})),K=function(e){e?setTimeout(G,500):T([])},W=function(e){return function(t){e(t)}};return Object(f.jsxs)(I.a,{title:"view"===o?"customer"===a?"Click Search for your fligh information, ".concat(t.current?t.current.alias:"username","!"):"Click Search for the orders you created for customers!":"purchase"===o?"customer"===a?"Start planning your journey, ".concat(t.current?t.current.alias:"username","!"):"Click Search for the avaliable flights!":"customer"===a?"Click Search to see upcoming flights, ".concat(t.current?t.current.alias:"username","!"):"Click Search to See upcoming flights!",children:[Object(f.jsxs)(S.a.Group,{children:[Object(f.jsx)("b",{children:"From:"}),Object(f.jsx)(F.a,{showSearch:!0,addonBefore:"From",style:{width:230,padding:10},placeholder:"Departure Airport",value:p,defaultActiveFirstOption:!1,showArrow:!1,filterOption:!1,onSearch:K,onChange:W(h),notFoundContent:null,allowClear:!0,children:U}),Object(f.jsx)(l.a,{shape:"circle",icon:Object(f.jsx)(ne.a,{}),onClick:function(){var e=p;h(x),v(e)}}),Object(f.jsx)("b",{style:{paddingLeft:10},children:"To:"}),Object(f.jsx)(F.a,{showSearch:!0,addonBefore:"To",style:{width:230,padding:10},placeholder:"Arrival Airport",value:x,defaultActiveFirstOption:!1,showArrow:!1,filterOption:!1,onSearch:K,onChange:W(v),notFoundContent:null,allowClear:!0,children:U}),Object(f.jsx)("b",{style:{paddingLeft:10,paddingRight:10},children:"view"===o?"customer"===a?"Departure Time:":"Purchase Date:":"Departure Time:"}),"view"===o?Object(f.jsx)(u,{onChange:n,value:r,format:"YYYY-MM-DD HH:mm:ss",showTime:{defaultValue:te()("YYYY-MM-DD HH:mm:ss")},style:{width:300},placeholder:["Begin With","End With"]}):Object(f.jsx)(P.a,{format:"YYYY-MM-DD HH:mm:ss",value:r,onChange:W(n),showTime:{defaultValue:te()("YYYY-MM-DD HH:mm:ss")},style:{width:300},placeholder:"Depate After"}),Object(f.jsx)("span",{style:{padding:10},children:" "}),Object(f.jsx)(l.a,{type:"primary",onClick:"view"===o?function(){var e=null;e=""===r?D.a.stringify({sourceAirport:p,destAirport:x,email:t.current?t.current.email:"abababababa@gmail.com"}):D.a.stringify({sourceAirport:p,destAirport:x,email:t.current?t.current.email:"abababababa@gmail.com",startDate:r?te()(r[0]).format("YYYY-MM-DD HH:mm:ss"):void 0,endDate:r?te()(r[1]).format("YYYY-MM-DD HH:mm:ss"):void 0}),b()({url:"customer"===a?"http://localhost:8080/customer/getMyFlights":"http://localhost:8080/bookingAgent/getMyFlights",method:"POST",header:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},data:e}).then((function(e){e.data&&c(e.data)})).catch((function(e){k.b.error("Back end server not started!")}))}:"purchase"===o?function(){b()({url:"customer"===a?"http://localhost:8080/customer/getAllAvailableFlights":"http://localhost:8080/bookingAgent/getAllAvailableFlights",method:"POST",data:{sourceAirportName:p,destAirportName:x,departureTime:r?te()(r).format("YYYY-MM-DD HH:mm:ss"):void 0}}).then((function(e){e.data?c(e.data):k.b.error("Back end server not started!")}))}:function(){b()({url:"http://localhost:8080/index/searchFlights",method:"POST",data:{sourceAirportName:p,destAirportName:x,departureTime:r?te()(r).format("YYYY-MM-DD HH:mm:ss"):void 0}}).then((function(e){e.data?c(e.data):console.log("No Results")})).catch((function(e){c(null),k.b.error("Back end server not started!")}))},children:"Search"})]}),Object(f.jsx)(re.a,{}),s?Object(f.jsx)(ue,{data:s,loginInfo:t,userType:a,actionType:o,setRowRecord:Y,setAgentModalVis:B,setCustomerModalVis:z}):null,R?Object(f.jsx)(ce,{loginInfo:t,agentModalVis:_,setAgentModalVis:B,rowRecord:R,setRowRecord:Y}):null,R?Object(f.jsx)(se,{loginInfo:t,customerModalVis:L,setCustomerModalVis:z,rowRecord:R,setRowRecord:Y}):null]})}F.a.Option;var me=a(1176);function je(e){var t=e.loginInfo,a=Object(i.useState)([]),r=Object(y.a)(a,2),n=r[0],s=r[1],c=Object(i.useState)(te()().subtract(30,"days")),l=Object(y.a)(c,2),o=l[0],u=l[1],d=Object(i.useState)(te()()),m=Object(y.a)(d,2),j=m[0],p=m[1];Object(i.useEffect)((function(){b()({url:"http://localhost:8080/customer/trackSpending",method:"POST",data:{startDate:o,endDate:j,email:t.current?t.current.email:"User"}}).then((function(e){if(e.data){var t=e.data.map((function(e){return{type:e.interval,value:e.value}}));s(t)}}))}),[]);var h=function(e,t){var a=0,i=0;"start"==t?(a=e,i=j):(a=o,i=e),b()({url:"http://localhost:8080/customer/trackSpending",method:"POST",data:{startDate:a,endDate:i,email:"12345@qq.com"}}).then((function(e){if(e.data.length>0){console.log(e.data);var r=e.data.map((function(e){return{type:e.interval,value:e.value}}));s(r),"start"==t?function(e){u(e)}(a):function(e){p(e)}(i)}else s([{item:"9",value:9999}])}))},O={appendPadding:10,data:n,angleField:"value",colorField:"type",radius:.9,meta:{type:{alias:"Month"},value:{alias:"Total Spending",formatter:function(e){return"$"+e.toString()}}},label:{type:"inner",offset:"-30%"},interactions:[{type:"element-selected"},{type:"element-active"}]};return Object(f.jsxs)(I.a,{title:"See your amazing trips, Username!",children:[Object(f.jsxs)(S.a.Group,{children:[Object(f.jsx)(P.a,{format:T,placeholder:"startDate",defaultValue:o,onChange:function(e){h(e,"start")},style:{width:200}}),Object(f.jsx)("b",{style:{padding:190},children:" "}),Object(f.jsx)(P.a,{format:T,placeholder:"endDate",defaultValue:j,onChange:function(e){h(e,"end")},style:{width:200}}),Object(f.jsx)("b",{style:{padding:160},children:" "})]}),Object(f.jsx)(me.a,Object(x.a)({},O))]})}var be=V.a.SubMenu;function pe(e){var t=e.loginInfo,a=e.updateSelection,r=e.setDeptDate,n=(e.defaultData,e.setActionType),s=e.setFlightResult,c={1:"Search flights",2:"Create order",3:"My customer orders",4:"Commission statistics",5:"Top customers",6:"Logout"},l=Object(m.f)(),o={1:"search",2:"purchase",3:"view"};return Object(i.useEffect)((function(){a("Commission statistics")}),[]),Object(f.jsxs)(V.a,{mode:"inline",defaultSelectedKeys:["4"],defaultOpenKeys:["sub2"],onClick:function(e){"Logout"==c[e.key]&&(G(t),t.current=null,h.a.remove("JSESSIONID"),l("/",{replace:!0})),a(c[e.key]),s(null),r(void 0),n(o[e.key])},style:{height:"100%",borderRight:0},children:[Object(f.jsxs)(be,{icon:Object(f.jsx)(z.a,{}),title:"Booking",children:[Object(f.jsx)(V.a.Item,{children:c[1]},"1"),Object(f.jsx)(V.a.Item,{children:c[2]},"2")]},"sub1"),Object(f.jsxs)(be,{icon:Object(f.jsx)(C.a,{}),title:"Mine",children:[Object(f.jsx)(V.a.Item,{children:c[3]},"3"),Object(f.jsx)(V.a.Item,{children:c[4]},"4"),Object(f.jsx)(V.a.Item,{children:c[5]},"5")]},"sub2"),Object(f.jsx)(be,{icon:Object(f.jsx)(L.a,{}),title:"Operation",children:Object(f.jsx)(V.a.Item,{children:c[6]},"6")},"sub3")]})}var he=a(1178),fe=a(172),Oe=a(414);c.a.Title;function ge(){var e=Object(i.useState)(null),t=Object(y.a)(e,2),a=(t[0],t[1],Object(i.useState)(null)),r=Object(y.a)(a,2),n=(r[0],r[1],Object(i.useState)("tickets")),s=Object(y.a)(n,2),c=s[0],l=s[1],o=Object(i.useState)([]),u=Object(y.a)(o,2),d=u[0],m=u[1],j=Object(i.useState)(5),p=Object(y.a)(j,2),h=p[0],O=p[1];Object(Oe.useEffect)((function(){g()}),[]);var g=function(){b()({method:"GET",url:"http://localhost:8080/bookingAgent/getTopKTickets",params:{K:h}}).then((function(e){if(e.data){var t=e.data.map((function(e){return{email:e.email,sum:e.ticketsFromAgent}}));m(t)}}))};return Object(f.jsx)(I.a,{title:"Customer Statistics",tabList:[{key:"tickets",tab:"Tickets Ranking"},{key:"commission",tab:"Commission Ranking"}],activeTab:c,onTabChange:function(e){l(e),"tickets"===e?g():b()({method:"GET",url:"http://localhost:8080/bookingAgent/getTopKCommission",params:{K:h}}).then((function(e){if(e.data){console.log(e.data);var t=e.data.map((function(e){return{email:e.email,sum:e.totalCommission}}));m(t)}}))},tabBarExtraContent:Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("span",{style:{marginRight:5},children:"Top"}),Object(f.jsx)(fe.a,{min:1,onChange:function(e){O(e)},defaultValue:5}),Object(f.jsx)("span",{style:{marginLeft:5},children:"Agents"})]}),children:Object(f.jsx)(he.a,Object(x.a)(Object(x.a)({},{xField:"email",yField:"sum",seriesField:"",columnWidthRatio:.5,label:{position:"middle",style:{fill:"#FFFFFF",opacity:.8}},xAxis:{label:{autoHide:!0,autoRotate:!1}}}),{},{data:d.slice(0,h),meta:{uid:{alias:"User ID"},sum:{alias:"tickets"===c?"Ticket Number":"Total Commission"}}}))})}var xe=a(1182);b.a.defaults.timeout=1e3;var ye=P.a.RangePicker;function ve(){var e=Object(i.useState)(null),t=Object(y.a)(e,2),a=t[0],r=t[1],n=Object(i.useState)(null),s=Object(y.a)(n,2),c=s[0],l=s[1],o=Object(i.useState)(null),u=Object(y.a)(o,2),d=u[0],m=u[1],j=Boolean(a),p=Boolean(c),h=Boolean(d);return Object(i.useEffect)((function(){b()({url:"http://localhost:8080/bookingAgent/getCommissionInfo",method:"GET",params:{email:"cathayEmp01@csair.com",startDate:new Date(te()().subtract(30,"days")),endDate:new Date(te()())}}).then((function(e){e.data&&(console.log(e.data),r(e.data.commissionFees),l(e.data.averageCommissionFees),m(e.data.ticketBooked))}))}),[]),Object(f.jsx)(I.a,{title:"Checking Total Commission for Username",children:Object(f.jsxs)(J.b,{direction:"vertical",size:"large",style:{width:"100%"},children:[Object(f.jsx)(ye,{onChange:function(e,t){console.log(e),b()({url:"http://localhost:8080/bookingAgent/getCommissionInfo",method:"GET",params:{email:"cathayEmp01@csair.com",startDate:new Date(e[0]),endDate:new Date(e[1])}}).then((function(e){e.data&&(console.log(e.data),r(e.data.commissionFees),l(e.data.averageCommissionFees),m(e.data.ticketBooked))})).catch((function(){r(99999),l(90909),m(12313213)}))},defaultValue:[te()().subtract(30,"days"),te()()]}),Object(f.jsxs)("div",{style:{textAlign:"center",width:"100%"},children:[Object(f.jsx)(xe.a,{title:"Total Commission in (USD)",value:a,loading:!j,precision:2,style:{width:"100%"}}),Object(f.jsx)(xe.a,{title:"Average Commission in (USD)",value:c,loading:!p,precision:2,style:{width:"100%"}}),Object(f.jsx)(xe.a,{title:"Total Tickets Booked On Behalf of the customer",value:d,loading:!h,style:{width:"100%"}})]})]})})}var ke=a(1193),Ie=a(1194),Se=a(61),Ce=V.a.SubMenu;function Ae(e){var t=e.loginInfo,a=e.updateSelection,r={2:"Flight CRUD",4:"Add airplane",5:"Add airport",3:"View Agents",6:"Frequent customers",7:"Revenue Comparison",8:"Top destinations",9:"View Reports",10:"Add booking agent",11:"Grant permission",12:"Logout"},n=Object(m.f)();return Object(i.useEffect)((function(){a("View Reports")}),[]),Object(f.jsxs)(V.a,{mode:"inline",defaultSelectedKeys:["9"],defaultOpenKeys:["sub2"],onClick:function(e){"Logout"==r[e.key]&&(G(t),t.current=null,h.a.remove("JSESSIONID"),n("/",{replace:!0})),a(r[e.key])},style:{height:"100%",borderRight:0},children:[Object(f.jsxs)(Ce,{icon:Object(f.jsx)(ke.a,{}),title:"Flight Management",children:[Object(f.jsx)(V.a.Item,{children:r[2]},"2"),Object(f.jsx)(V.a.Item,{children:r[4]},"4"),Object(f.jsx)(V.a.Item,{disabled:!!t.current&&!t.current.permissionDescription.includes("Admin"),children:Object(f.jsx)(Se.a,{title:t.current?t.current.permissionDescription.includes("Admin")?void 0:"Insufficient Privileges!":void 0,color:"orange",children:r[5]})},"5")]},"sub1"),Object(f.jsxs)(Ce,{icon:Object(f.jsx)(Ie.a,{}),title:"Statistics",children:[Object(f.jsx)(V.a.Item,{children:r[3]},"3"),Object(f.jsx)(V.a.Item,{children:r[6]},"6"),Object(f.jsx)(V.a.Item,{children:r[7]},"7"),Object(f.jsx)(V.a.Item,{children:r[8]},"8"),Object(f.jsx)(V.a.Item,{children:r[9]},"9")]},"sub2"),Object(f.jsxs)(Ce,{icon:Object(f.jsx)(L.a,{}),title:"Operation",children:[Object(f.jsx)(V.a.Item,{disabled:!!t.current&&!t.current.permissionDescription.includes("Admin"),children:Object(f.jsx)(Se.a,{title:t.current?t.current.permissionDescription.includes("Admin")?void 0:"Insufficient Privileges!":void 0,color:"orange",children:r[10]})},"10"),Object(f.jsx)(V.a.Item,{disabled:!!t.current&&!t.current.permissionDescription.includes("Admin"),children:Object(f.jsx)(Se.a,{title:t.current?t.current.permissionDescription.includes("Admin")?void 0:"Insufficient Privileges!":void 0,color:"orange",children:r[11]})},"11"),Object(f.jsx)(V.a.Item,{children:r[12]},"12")]},"sub3")]})}function Ne(e){e.loginInfo;var t=v.a.useForm(),a=Object(y.a)(t,1)[0];return Object(f.jsx)(I.a,{title:"Airport Information Management",children:Object(f.jsxs)(v.a,{form:a,name:"airport form",className:"airport_form",onFinish:function(e){b()({url:"http://localhost:8080/airlineStaff/addNewAirport",method:"post",data:e}).then((function(e){"success"===e.data?k.b.success({content:"Insertion Completed",className:"custom-class",style:{marginTop:"40vh"}}):k.b.error({content:"You have already inserted this airport!",className:"custom-class",style:{marginTop:"40vh"}})}))},onFinishFailed:function(){k.b.error("Evaluation Failed!")},scrollToFirstError:!0,children:[Object(f.jsx)(v.a.Item,{name:"airportName",label:"Airport Name",rules:[{required:!0,message:"Airport Name should not be empty!"}],validateTrigger:"onBlur",hasFeedback:!0,children:Object(f.jsx)(S.a,{})}),Object(f.jsx)(v.a.Item,{name:"airportCity",label:"Airport City",validateTrigger:"onBlur",rules:[{required:!0,message:"Airport City should not be empty!"}],hasFeedback:!0,children:Object(f.jsx)(S.a,{})}),Object(f.jsxs)(v.a.Item,Object(x.a)(Object(x.a)({},{wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}}),{},{children:[Object(f.jsx)(l.a,{type:"primary",htmlType:"submit",children:"Add"}),Object(f.jsx)(l.a,{type:"primary",onClick:function(){a.resetFields()},children:"Reset"})]}))]})})}function Te(e){var t=e.loginInfo,a=Object(i.useState)([]),r=Object(y.a)(a,2),n=r[0],s=r[1],c=function(){b()({url:"http://localhost:8080/airlineStaff/getAllAirplanes",method:"GET",params:{airlineName:t.current?t.current.airlineName:""}}).then((function(e){e.data&&s(e.data)}))};Object(Oe.useEffect)((function(){c()}),["airport"]);var o={airlineName:t.current?t.current.airlineName:void 0,airplaneId:void 0,seats:200},u=v.a.useForm(),d=Object(y.a)(u,1)[0];return Object(f.jsxs)(J.b,{align:"center",size:100,children:[t.current&&t.current.permissionDescription?t.current.permissionDescription.includes("Admin")?Object(f.jsx)(I.a,{style:{marginLeft:50},title:"Add airplane",children:Object(f.jsxs)(v.a,{form:d,name:"airplane",className:"airplane-form",onFinish:function(e){b()({url:"http://localhost:8080/airlineStaff/addNewAirplane",method:"post",data:{airline:t.current?t.current.airlineName:void 0,id:e.airplaneId,seats:e.seats}}).then((function(e){"success"===e.data?(k.b.success({content:"Insertion Completed",className:"custom-class",style:{marginTop:"40vh"}}),c()):k.b.error({content:"You have already inserted this airplane information!",className:"custom-class",style:{marginTop:"40vh"}})}))},onFinishedFailed:function(){k.b.error("Evaluation Failed!")},initialValues:o,children:[Object(f.jsx)(v.a.Item,{name:"airlineName",label:"Airline Name",rules:[{required:!0,message:"Aiport Name should not be empty!"}],children:Object(f.jsx)(S.a,{disabled:!0})}),Object(f.jsx)(v.a.Item,{name:"airplaneId",label:"Airplane Id",rules:[{required:!0,message:"Aiport Id should not be empty!"}],children:Object(f.jsx)(S.a,{})}),Object(f.jsx)(v.a.Item,{name:"seats",label:"Seat Number",children:Object(f.jsx)(fe.a,{})}),Object(f.jsxs)(v.a.Item,Object(x.a)(Object(x.a)({},{wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:0}}}),{},{children:[Object(f.jsx)(l.a,{type:"primary",htmlType:"submit",children:"Add"}),Object(f.jsx)(l.a,{type:"primary",onClick:function(){d.resetFields()},style:{marginLeft:50},children:"Reset"})]}))]})}):Object(f.jsx)(I.a,{style:{marginLeft:50},title:"Add airplane",children:"You don't have permission to add airplanes."}):null,Object(f.jsx)(I.a,{title:"All the airplane for your airline company",children:Object(f.jsx)(W.a,{width:300,columns:[{title:"Airplane Id",dataIndex:"id",key:"airplane_id",width:200},{title:"Airline Name",dataIndex:"airline",key:"airline_name",width:200},{title:"Seat Number",dataIndex:"seats",key:"seats",width:200}],dataSource:n,size:"middle"})})]})}var we=V.a.SubMenu;function De(e){var t=e.updateSelection,a={1:"Search flights",2:"Exit the System"},r=Object(m.f)();return Object(i.useEffect)((function(){t("Search flights")}),[]),Object(f.jsx)(V.a,{mode:"inline",defaultSelectedKeys:["1"],defaultOpenKeys:["sub1"],onClick:function(e){"Exit the System"==a[e.key]&&(!function(){var e=5,t=E.a.success({title:"See you next time !",content:"Close in ".concat(e," second.")}),a=setInterval((function(){e-=1,t.update({content:"Close in ".concat(e," second.")})}),1e3);setTimeout((function(){clearInterval(a),t.destroy()}),1e3*e)}(),h.a.remove("JSESSIONID"),r("/",{replace:!0})),t(a[e.key])},style:{height:"100%",borderRight:0},children:Object(f.jsxs)(we,{icon:Object(f.jsx)(z.a,{}),title:"Operation",children:[Object(f.jsx)(V.a.Item,{children:a[1]},"1"),Object(f.jsx)(V.a.Item,{children:a[2]},"2")]},"sub1")})}var Fe=a(28),Pe=a.n(Fe),Me=a(150),Re=a(666),Ye=a(1184),Ve=a(680),Ee=a(660),_e={labelCol:{span:7},wrapperCol:{span:13}},Be=v.a.Item,qe=F.a.Option;function He(e){var t=e.modalVisible,a=e.onCancel,r=(e.onSubmit,e.handleCreateModalVisible),n=e.handleCreate,s=Object(i.useState)({}),c=Object(y.a)(s,2),o=c[0],u=c[1],d=v.a.useForm(),m=Object(y.a)(d,1)[0],j=function(e){return e&&e<te()().endOf("day")},p=["upcoming","cancelled","checking in","delayed","on time"].map((function(e){return Object(f.jsx)(qe,{children:e},e)})),h=function(){var e=Object(Me.a)(Pe.a.mark((function e(){var t;return Pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.validateFields();case 2:t=e.sent,b()({url:"http://localhost:8080/airlineStaff/validateNewAirplane",method:"POST",data:{id:t.airplaneId,airline:t.airlineName}}).then((function(e){"success"===e.data?(u(Object(x.a)(Object(x.a)({},o),t)),n(Object(x.a)(Object(x.a)({},o),t))):k.b.error({content:"This airline name and airplane id is not found in the database!",className:"custom-class",style:{marginTop:"40vh"}})}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(f.jsx)(E.a,{destroyOnClose:!0,title:"Add Flight",visible:t,onCancel:function(){return a()},footer:Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(l.a,{onClick:function(){return r(!1)},children:"Cancel"}),Object(f.jsx)(l.a,{type:"primary",onClick:function(){return h()},children:"Submit"})]}),children:Object(f.jsx)(v.a,Object(x.a)(Object(x.a)({},_e),{},{form:m,name:"flight",className:"flight-form",children:Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(Be,{name:"flightNum",label:"Flight Number",rules:[{required:!0,message:"Please input flight number!"}],children:Object(f.jsx)(S.a,{placeholder:"e.g. MU672"})}),Object(f.jsx)(Be,{name:"airlineName",label:"Airline Name",rules:[{required:!0,message:"Please input airline name"}],children:Object(f.jsx)(S.a,{placeholder:"e.g. Cathay Pacific"})}),Object(f.jsx)(Be,{name:"sourceAirportName",label:"Departure Airport",rules:[{required:!0,message:"Please Input Departure Airport"},function(e){var t=e.getFieldValue;return{validator:function(e,a){return a&&t("destAirportName")!==a?Promise.resolve():Promise.reject(new Error("The arrivalAirport should not be the same as the departure Airport!"))}}}],children:Object(f.jsx)(S.a,{placeholder:"e.g. PVG"})}),Object(f.jsx)(Be,{name:"departureTime",label:"Departure Time",rules:[{required:!0,message:"Please input Departure Time"},function(e){var t=e.getFieldValue;return{validator:function(e,a){return console.log("xixi"),te()(a)<te()(t("arrivalTime"))?Promise.resolve():Promise.reject(new Error("You cannot set the departure time to be later than arrival time!"))}}}],children:Object(f.jsx)(P.a,{format:"YYYY-MM-DD HH:mm:ss",disabledDate:j,showTime:{defaultValue:te()("00:00:00","HH:mm:ss")}})}),Object(f.jsx)(Be,{name:"destAirportName",label:"Arrival Airport",rules:[{required:!0,message:"Please Input Arrival Airport"},function(e){var t=e.getFieldValue;return{validator:function(e,a){return a&&t("sourceAirportName")!==a?Promise.resolve():Promise.reject(new Error("The arrival airport should not be the same as the departure airport!"))}}}],children:Object(f.jsx)(S.a,{placeholder:"e.g. SZX"})}),Object(f.jsx)(Be,{name:"arrivalTime",label:"Arrival Time",rules:[{required:!0,message:"Please input Arrival Time"},function(e){var t=e.getFieldValue;return{validator:function(e,a){return te()(a)>te()(t("departureTime"))?Promise.resolve():Promise.reject(new Error("You cannot set the arrival time to be earlier than  the departure time!"))}}}],children:Object(f.jsx)(P.a,{format:"YYYY-MM-DD HH:mm:ss",disabledDate:j,showTime:{defaultValue:te()("00:00:00","HH:mm:ss")}})}),Object(f.jsx)(Be,{name:"price",label:"price",rules:[{required:!0,message:"Please indicate the price of this flight!"}],children:Object(f.jsx)(fe.a,{min:1,max:999999999,precision:2,style:{width:130}})}),Object(f.jsx)(Be,{name:"status",label:"status",rules:[{required:!0,message:"Please select the status of this flight!"}],children:Object(f.jsx)(F.a,{children:p})}),Object(f.jsx)(Be,{name:"airplaneId",label:"Airplane Id",rules:[{required:!0,message:"Please select the airplane id for this flight!"}],children:Object(f.jsx)(S.a,{placeholder:"e.g. A380"})})]})}))})}var Le=v.a.Item,ze=F.a.Option,Ge={labelCol:{span:7},wrapperCol:{span:13}};function Ue(e){e.onCancel,e.onSubmit;var t=e.updateModalVisible,a=e.handleUpdateModalVisible,r=e.values,n=e.handleUpdate,s=v.a.useForm(),c=Object(y.a)(s,1)[0],o=Object(i.useState)(Object(x.a)({},e.values)),u=Object(y.a)(o,2),d=u[0],m=u[1],j={cancelled:"Cancelled","checking in":"Checking In",delayed:"Delayed","on time":"On Time",full:"Full/Not Avaliable For Purchase"},b=["cancelled","checking in","delayed","on time","full"].map((function(e){return Object(f.jsx)(ze,{value:e,children:j[e]},e)})),p=function(){var e=Object(Me.a)(Pe.a.mark((function e(){var t;return Pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.validateFields();case 2:t=e.sent,m(Object(x.a)(Object(x.a)({},d),t)),n(Object(x.a)(Object(x.a)({},d),t));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(f.jsx)(E.a,{width:640,bodyStyle:{padding:"32px 40px 48px"},destroyOnClose:!0,title:"Update Flight",visible:t,footer:Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(l.a,{onClick:function(){return a(!1,r)},children:"\u53d6\u6d88"}),Object(f.jsx)(l.a,{type:"primary",onClick:function(){return p()},children:"\u63d0\u4ea4"})]}),onCancel:function(){return a()},children:Object(f.jsx)(v.a,Object(x.a)(Object(x.a)({},Ge),{},{form:c,initialValues:{flightNum:d.flightNum,airlineName:d.airlineName,sourceAirportName:d.sourceAirportName,destAirportName:d.destAirportName,price:d.price,status:d.status},children:Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(Le,{name:"flightNum",label:"Flight Number",rules:[{required:!0,message:"Please input flight number!"}],children:Object(f.jsx)(S.a,{disabled:!0,placeholder:"\u8bf7\u8f93\u5165"})}),Object(f.jsx)(Le,{name:"airlineName",label:"Airline Name",rules:[{required:!0,message:"Please input airline name!"}],children:Object(f.jsx)(S.a,{disabled:!0,placeholder:"\u8bf7\u8f93\u5165"})}),Object(f.jsx)(Le,{name:"sourceAirportName",label:"Departure Airport",rules:[{required:!0,message:"Please Input Departure Airport"}],children:Object(f.jsx)(S.a,{disabled:!0,placeholder:"\u8bf7\u8f93\u5165"})}),Object(f.jsx)(Le,{name:"destAirportName",label:"Arrival Airport",rules:[{required:!0,message:"Please input  Arrival Airport"}],children:Object(f.jsx)(S.a,{disabled:!0,placeholder:"\u8bf7\u8f93\u5165"})}),Object(f.jsx)(Le,{name:"price",label:"price",rules:[{required:!0,message:"Please input the price"}],children:Object(f.jsx)(S.a,{disabled:!0,placeholder:"\u8bf7\u8f93\u5165"})}),Object(f.jsx)(Le,{name:"status",label:"status",rules:[{required:!0,message:"Please select the status"}],children:Object(f.jsx)(F.a,{children:b})})]})}))})}a(1112);function Ke(e){var t=e.detailModalVisible,a=e.onCancel,i=(e.handleDetailModalVisible,e.values);console.log(i);var r=i.passengers.map((function(e){return{email:e.email,name:e.name,buildingNumber:e.buildingNumber,street:e.street,city:e.city,livingState:e.livingState,phoneNumber:e.phoneNumber,passportExpiration:te()(e.passportExpiration).format("yyyy-MM-DD"),passportCountry:e.passportCountry,passportNumber:e.passportNumber,birthday:te()(e.birthday).format("yyyy-MM-DD")}}));return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(E.a,{destroyOnClose:!0,title:"Customer Details",visible:t,onCancel:function(){return a()},width:1300,footer:[],children:Object(f.jsx)(W.a,{scroll:{x:1300},columns:[{title:"Email",dataIndex:"email",key:"email",textWrap:"word-break",width:150,ellipsis:!0,fixed:"left"},{title:"Name",dataIndex:"name",key:"name",textWrap:"word-break",width:100,ellipsis:!0},{title:"Building Number",dataIndex:"buildingNumber",key:"building"},{title:"Street",dataIndex:"street",key:"street"},{title:"City",dataIndex:"city",key:"city"},{title:"State",dataIndex:"livingState",key:"state"},{title:"Phone No.",dataIndex:"phoneNumber",key:"phone",textWrap:"word-break",width:150,ellipsis:!0},{title:"Passport No.",dataIndex:"passportNumber",key:"passportnum"},{title:"Passport Exp.",dataIndex:"passportExpiration",key:"passportexp",textWrap:"word-break",width:100,ellipsis:!0},{title:"Passport Country",dataIndex:"passportCountry",key:"passportCountry"},{title:"Birthday",dataIndex:"birthday",key:"birthday",textWrap:"word-break",width:100,ellipsis:!0}],dataSource:r})})})}function We(e){var t=e.loginInfo,a=Object(i.useState)(!1),r=Object(y.a)(a,2),n=r[0],s=r[1],c=Object(i.useState)(!1),o=Object(y.a)(c,2),u=o[0],d=o[1],m=Object(i.useState)(!1),j=Object(y.a)(m,2),p=j[0],h=j[1],O=Object(i.useState)([]),g=Object(y.a)(O,2),v=g[0],I=g[1],S=Object(i.useState)({}),C=Object(y.a)(S,2),A=C[0],N=C[1],T=Object(i.useState)("read"),w=Object(y.a)(T,2),F=w[0],P=(w[1],Object(i.useState)([])),M=Object(y.a)(P,2),R=(M[0],M[1],Object(i.useRef)()),Y=Object(i.useRef)(!0),V=function(){var e=Object(Me.a)(Pe.a.mark((function e(a){return Pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",b()({url:"http://localhost:8080/airlineStaff/findAllFlightsForAirline",method:"GET",params:{airlineName:t.current?t.current.airlineName:"Spring Airlines"}}).then((function(e){return e.data?(Y.current=!1,{data:Object(x.a)({},e.data),success:!0}):{data:{},success:!1}})).catch((function(){return k.b.error("Back end server not started! Render Default Date!"),{data:_,success:!0}})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(Me.a)(Pe.a.mark((function e(t){return Pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",b()({url:"http://localhost:8080/airlineStaff/findAllFilteredFlights",method:"POST",data:t}).then((function(e){return e.data?{data:Object(x.a)({},e.data),success:!0}:{data:{},success:!1}})).catch((function(){return k.b.error("Back end server not started!Render Default Data!"),{data:_,success:!0}})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_={records:[{flightNum:"MU12243234",airlineName:"Cathay Pacific",sourceAirportName:"PVG",departureTime:te()("2020-01-01").format("YYYY-MM-DD HH:mm:ss"),destAirportName:"SZX",arrivalTime:te()("2020-01-01").format("YYYY-MM-DD HH:mm:ss"),price:3030,status:"on time",airplaneId:"MU888"},{flightNum:"MU1224",airlineName:"Cathay Pacific",sourceAirportName:"PVG",departureTime:te()("2020-01-01").format("YYYY-MM-DD HH:mm:ss"),destAirportName:"SZX",arrivalTime:te()("2020-01-01").format("YYYY-MM-DD HH:mm:ss"),price:3030,status:"on time",airplaneId:"MU888"},{flightNum:"MU234",airlineName:"Cathay Pacific",sourceAirportName:"PVG",departureTime:te()("2020-01-01").format("YYYY-MM-DD HH:mm:ss"),destAirportName:"SZX",arrivalTime:te()("2020-01-01").format("YYYY-MM-DD HH:mm:ss"),price:3030,status:"on time",airplaneId:"MU888"}],total:12,success:!0},B=function(e,t){b()({url:"http://localhost:8080/airlineStaff/deleteFlight",method:"POST",data:D.a.stringify({flightNum:e,airlineName:t})}).then((function(e){e.data&&(R.current.reload(),k.b.success("Click on Yes"))})).catch((function(e){k.b.success("Delete Failed")}))},q=function(e){b()({url:"http://localhost:8080/airlineStaff/updateStatus",method:"POST",data:{flightNum:e.flightNum,airlineName:e.airlineName,status:e.status}}).then((function(e){"success"===e.data&&(d(!1),k.b.success("Update Succeed!"))})).catch((function(e){k.b.error("Server not responding!")}))},H=function(e){k.b.error("Click on No")},L=[{title:"Flight Number",dataIndex:"flightNum",key:"flightNum",textWrap:"word-break",width:100,ellipsis:!0,fixed:"left"},{title:"Airline Name",dataIndex:"airlineName",textWrap:"word-break",width:100,ellipsis:!0,key:"airlineName"},{title:"Dept. Airport",dataIndex:"sourceAirportName",textWrap:"word-break",width:100,ellipsis:!0,key:"sourceAirportName"},{title:"Arri. Airport",dataIndex:"destAirportName",textWrap:"word-break",width:100,ellipsis:!0,key:"destAirportName"},{title:"Dept. Time",dataIndex:"departureTime",valueType:"dateTime",width:150,ellipsis:!0,key:"departureTime"},{title:"Arri. Time",dataIndex:"arrivalTime",valueType:"dateTime",key:"arrivalTime",width:150,ellipsis:!0},{title:"Price",dataIndex:"price",hideInSearch:!0,key:"price",textWrap:"word-break",width:100,ellipsis:!0},{title:"Airplane ID",dataIndex:"airplaneId",hideInSearch:!0,key:"airplaneId",textWrap:"word-break",width:100,ellipsis:!0},{title:"Status",dataIndex:"status",hideInSearch:!0,key:"status",render:function(e){return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(X.a,{color:Z[e],children:e.toUpperCase()},e)})}},{title:"Action",key:"action",hideInSearch:!0,fixed:"right",render:function(e,a){return Object(f.jsxs)(J.b,{size:"middle",children:[Object(f.jsx)(l.a,{onClick:function(){h(!0),N(a)},children:"Details"}),Object(f.jsx)(Se.a,{title:t.current?t.current.permissionDescription.includes("Operator")?void 0:"Insufficient Privileges!":void 0,color:"orange",children:Object(f.jsx)(l.a,{disabled:!!t.current&&!t.current.permissionDescription.includes("Operator"),onClick:function(){d(!0),N(a)},type:"primary",size:"small",children:Object(f.jsx)($.a,{style:{fontSize:"15px"}})})}),Object(f.jsx)(Ee.a,{title:"Are you sure to delete this row?",onConfirm:function(e){!function(e,t){B(t.flightNum,t.airlineName)}(0,a)},onCancel:H,okText:"Yes",cancelText:"No",children:Object(f.jsx)(Se.a,{title:t.current?t.current.permissionDescription.includes("Operator")?void 0:"Insufficient Privileges!":void 0,color:"orange",children:Object(f.jsx)(l.a,{disabled:!!t.current&&!t.current.permissionDescription.includes("Operator"),onClick:function(){},type:"primary",size:"small",danger:!0,children:Object(f.jsx)(Q.a,{style:{fontSize:"15px"}})})})})]})}}],z=function(){var e=Object(Me.a)(Pe.a.mark((function e(t,a,i){var r,n,s,c,l,o,u,d;return Pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1!=Y.current){e.next=11;break}return delete(r=Object(x.a)(Object(x.a)({},t),{},{pageIndex:t.current})).current,e.next=5,V(r);case 5:return n=e.sent,s=n.data,c=n.success,e.abrupt("return",{data:s.records,success:c,total:s.total});case 11:return delete(l=Object(x.a)(Object(x.a)({},t),{},{pageIndex:t.current})).current,e.next=15,E(l);case 15:return o=e.sent,u=o.data,d=o.success,e.abrupt("return",{data:u.records,success:d,total:u.total});case 19:case"end":return e.stop()}}),e)})));return function(t,a,i){return e.apply(this,arguments)}}();return Object(f.jsxs)("div",{children:[Object(f.jsx)(Re.a,{columns:L,actionRef:R,request:z,rowKey:function(e,t){return t},scroll:{y:300,x:1300},form:{span:8},size:"middle",rowSelection:{onchange:function(e,t){return I(t)}},toolBarRender:function(){return[Object(f.jsx)(Se.a,{title:t.current?t.current.permissionDescription.includes("Admin")?void 0:"Insufficient Privileges!":void 0,color:"orange",children:Object(f.jsxs)(l.a,{type:"primary",disabled:!!t.current&&!t.current.permissionDescription.includes("Admin"),onClick:function(){s(!0)},children:[Object(f.jsx)(Ve.a,{}),"Add Flight"]},"3")})]}}),(null===v||void 0===v?void 0:v.length)>0&&Object(f.jsxs)(Ye.a,{extra:Object(f.jsxs)("div",{children:[Object(f.jsx)("a",{style:{fontWeight:600},children:v.length})," items choosed \xa0\xa0"]}),children:["read"===F&&Object(f.jsx)(l.a,{danger:!0,type:"primary",onClick:Object(Me.a)(Pe.a.mark((function e(){var t;return Pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B(v);case 2:I([]),null===(t=R.current)||void 0===t||t.reloadAndRest();case 4:case"end":return e.stop()}}),e)}))),children:"\u6279\u91cf\u5220\u9664"}),"upload"===F&&Object(f.jsx)(l.a,{type:"primary",onClick:Object(Me.a)(Pe.a.mark((function e(){return Pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void(e.next=2);case 2:I([]);case 3:case"end":return e.stop()}}),e)}))),children:"\u6279\u91cf\u65b0\u589e"})]}),Object(f.jsx)(He,{onSubmit:function(){var e=Object(Me.a)(Pe.a.mark((function e(t){return Pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q(t);case 2:e.sent&&(d(!1),N({}),R.current&&R.current.reload());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onCancel:function(){return s(!1)},modalVisible:n,handleCreateModalVisible:s,handleCreate:function(e){console.log(e),b()({url:"http://localhost:8080/airlineStaff/addNewFlight",method:"post",data:Object(x.a)(Object(x.a)({},e),{},{departureTime:te()(e.departureTime).format("yyyy-MM-DD HH:mm:ss"),arrivalTime:te()(e.arrivalTime).format("yyyy-MM-DD HH:mm:ss")})}).then((function(e){"success"===e.data?(k.b.success({content:"Insertion Completed",className:"custom-class",style:{marginTop:"40vh"}}),s(!1),R.current.reload()):k.b.error({content:"You have already inserted this airplane information!",className:"custom-class",style:{marginTop:"40vh"}})}))},className:"createForm"}),A&&Object.keys(A).length?Object(f.jsx)(Ue,{className:"updateForm",onSubmit:function(){var e=Object(Me.a)(Pe.a.mark((function e(t){return Pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q(t);case 2:e.sent&&(d(!1),N({}),R.current&&R.current.reload());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onCancel:function(){d(!1),N({})},handleUpdateModalVisible:d,updateModalVisible:u,values:A,handleUpdate:q}):null,A&&Object.keys(A).length?Object(f.jsx)(Ke,{className:"DetailForm",handleDetailModalVisible:h,detailModalVisible:p,onCancel:function(){h(!1),N({})},values:A}):null]})}var Ze=a(122),Xe=a(1180);function Je(e){e.setNavigateBar;var t=Object(i.useState)("sales"),a=Object(y.a)(t,2),r=a[0],n=a[1],s=Object(i.useState)("year"),c=Object(y.a)(s,2),o=c[0],u=c[1],d=Object(i.useState)(5),m=Object(y.a)(d,2),j=m[0],p=m[1],h=Object(i.useState)(null),O=Object(y.a)(h,2),g=O[0],v=O[1],S=[{type:"22@23.com",sales:34},{type:"22@25.com",sales:38},{type:"aa@23.com",sales:30},{type:"s2a@43.com",sales:12},{type:"12@23.com",sales:56}];Object(i.useEffect)((function(){A(j)}),[]);var C=[{type:"22@23.com",commission:340},{type:"22@25.com",commission:380},{type:"aa@23.com",commission:100},{type:"s2a@43.com",commission:120},{type:"12@23.com",commission:560}],A=function(e){b.a.get("http://localhost:8080/airlineStaff/getTopK",{params:{type:"sales",K:e,past:o},timeout:1e3}).then((function(e){if(e.data){var t=e.data.map((function(e){return{type:e.email,sales:e.totalSales}}));v(t)}})).catch((function(e){k.b.error("\u8bf7\u6c42\u8d85\u65f6,\u52a0\u8f7d\u9ed8\u8ba4\u6570\u636e"),v(S)}))},N=function(e){b.a.get("http://localhost:8080/airlineStaff/getTopK",{params:{type:"commission",K:e,past:o}}).then((function(e){if(e.data){var t=e.data.map((function(e){return{type:e.email,commission:e.commissionFees}}));v(t)}})).catch((function(e){v(C)}))},T={data:g?g.slice(0,j):null,xField:"sales"===r?"sales":"commission",yField:"type",legend:{position:"top-left"},barBackground:{style:{fill:"rgba(0,0,0,0.1)"}},interactions:[{type:"active-region",enable:!1}]};return Object(f.jsxs)(I.a,{tabList:[{key:"sales",tab:"Sales Ranking"},{key:"commission",tab:"Commission Ranking"}],activeTab:r,onTabChange:function(e){n(e),"sales"===e?(v(null),A(j)):(v(null),N(j))},tabBarExtraContent:Object(f.jsxs)(f.Fragment,{children:["sales"===r&&Object(f.jsxs)(J.b,{children:[Object(f.jsx)(l.a,{type:"primary",onClick:function(){u("month")},children:"Past Month"}),Object(f.jsx)(l.a,{type:"primary",onClick:function(){u("year")},children:"Past Year"})]}),Object(f.jsxs)(J.b,{children:[Object(f.jsx)("span",{style:{marginRight:5,marginLeft:10},children:"Top"}),Object(f.jsx)(fe.a,{addonBefore:"+",addonAfter:"$",min:1,onChange:function(e){p(e),e>j&&("sales"===r?A(e):"commission"===r&&N(e))},defaultValue:5}),Object(f.jsx)("span",{style:{marginLeft:5},children:"Agents"})]})]}),hoverable:!0,children:[!g&&Object(f.jsx)(Ze.a,{size:"large"}),g&&Object(f.jsx)(Xe.a,Object(x.a)(Object(x.a)({},T),{},{sort:!0,onReady:function(e){e.chart.on("element:click",(function(e){}))}}))]})}function $e(e){var t=e.loginInfo,a=e.setNavigateBar,r=Object(i.useState)([]),n=Object(y.a)(r,2),s=n[0],c=n[1],o=Object(i.useState)(void 0),u=Object(y.a)(o,2),d=u[0],j=u[1],p=Object(i.useRef)("year"),O=Object(i.useRef)([]),g=(Boolean(d),Object(m.f)()),v=P.a.RangePicker;Object(i.useEffect)((function(){S("Spring Airlines",null,null)}),[]);var S=function(e,i,r){b.a.get("http://localhost:8080/airlineStaff/viewReports",{params:{airlineName:t.current?t.current.airlineName:"Spring Airlines",startDate:i?new Date(i):null,endDate:r?new Date(r):null}}).then((function(e){if(503==e.data.statusCode)t.current=null,k.b.destroy(),k.b.error("Session Expired!"),h.a.remove("JSESSIONID"),a("global"),g("/global",{replace:!0});else{k.b.destroy(),k.b.success("Data loaded!");var i=e.data.map((function(e){return{type:e.interval,sales:e.value}})),r=i.reduce(C,0);O.current=i,c(i),j(r)}})).catch((function(){k.b.error("Time out"),O.current=A,c(A)}))},C=function(e,t){return e+t.sales},A=[{type:"\u5bb6\u5177\u5bb6\u7535",sales:38},{type:"\u7cae\u6cb9\u526f\u98df",sales:52},{type:"\u751f\u9c9c\u6c34\u679c",sales:61},{type:"\u7f8e\u5bb9\u6d17\u62a4",sales:145},{type:"\u6bcd\u5a74\u7528\u54c1",sales:48},{type:"\u8fdb\u53e3\u98df\u54c1",sales:38},{type:"\u98df\u54c1\u996e\u6599",sales:38},{type:"\u5bb6\u5ead\u6e05\u6d01",sales:38}],N={data:s,xField:"type",yField:"sales",label:{position:"middle",style:{fill:"#FFFFFF",opacity:.6}},xAxis:{label:{autoHide:!0,autoRotate:!1}},meta:{type:{alias:"\u7c7b\u522b"},sales:{alias:"\u9500\u552e\u989d"}}},T=function(){var e=O.current,t=e.reduce(C,0);c(e),j(t)},w=function(){var e=O.current.slice(-1);c(e),j(e.sales)},D=function(e){null!=e?S("",e[0],e[1]):S("",null,null)};return Object(f.jsxs)(I.a,{title:"Here is the sales report for the airline you work in.",tabList:[{key:"sales",tab:"Sales Report"}],hoverable:!0,tabBarExtraContent:Object(f.jsxs)(J.b,{direction:"horizontal",size:12,children:[Object(f.jsx)(l.a,{onClick:T,type:"primary",children:"Last Year"}),Object(f.jsx)(l.a,{onClick:w,type:"primary",children:"Last Month"}),Object(f.jsx)(v,{picker:"month",onChange:D})]}),children:[Object(f.jsx)(xe.a,{title:"Total Number of sold tickets over the last "+p.current,value:d,precision:2,style:{width:"100%"}}),Object(f.jsx)(he.a,Object(x.a)({},N))]})}function Qe(){var e=Object(i.useState)([]),t=Object(y.a)(e,2),a=t[0],r=t[1],n=Object(i.useState)(void 0),s=Object(y.a)(n,2),c=(s[0],s[1],Object(i.useState)(void 0)),o=Object(y.a)(c,2),u=(o[0],o[1],Object(i.useRef)("year"));P.a.RangePicker;Object(i.useEffect)((function(){d("year")}),[]);var d=function(e){b.a.get("http://localhost:8080/airlineStaff/topDestinations",{params:{past:e}}).then((function(e){k.b.success("\u6570\u636e\u52a0\u8f7d\u6210\u529f");var t=e.data.map((function(e){return{type:e.type,value:e.value}}));r(t)})).catch((function(){k.b.error("\u8bbf\u95ee\u8d85\u65f6\uff0c\u4f7f\u7528\u9ed8\u8ba4\u6570\u636e"),r(m)}))},m=[{type:"\u5bb6\u5177\u5bb6\u7535",value:38},{type:"\u7cae\u6cb9\u526f\u98df",value:52},{type:"\u751f\u9c9c\u6c34\u679c",value:61},{type:"\u7f8e\u5bb9\u6d17\u62a4",value:145},{type:"\u6bcd\u5a74\u7528\u54c1",value:48},{type:"\u8fdb\u53e3\u98df\u54c1",value:38},{type:"\u98df\u54c1\u996e\u6599",value:38},{type:"\u5bb6\u5ead\u6e05\u6d01",value:38}],j={data:a,xField:"type",yField:"value",label:{position:"middle",style:{fill:"#FFFFFF",opacity:.6}},xAxis:{label:{autoHide:!0,autoRotate:!1}},meta:{type:{alias:"\u7c7b\u522b"},sales:{alias:"\u9500\u552e\u989d"}}},p=function(){u.current="year",d("year")},h=function(){u.current="3 months",d("month")};return Object(f.jsx)(I.a,{title:"Top Destinations in the last"+u.current,tabList:[{key:"sales",tab:"Sales Report"}],hoverable:!0,tabBarExtraContent:Object(f.jsxs)(J.b,{direction:"horizontal",size:12,children:[Object(f.jsx)(l.a,{onClick:p,type:"primary",children:"Last Year"}),Object(f.jsx)(l.a,{onClick:h,type:"primary",children:"Last 3 Months"})]}),children:Object(f.jsx)(he.a,Object(x.a)({},j))})}function et(){var e=Object(i.useState)(null),t=Object(y.a)(e,2),a=t[0],r=t[1],n=Object(i.useState)(void 0),s=Object(y.a)(n,2),c=(s[0],s[1],Object(i.useState)(void 0)),o=Object(y.a)(c,2),u=(o[0],o[1],Object(i.useState)(void 0)),d=Object(y.a)(u,2),m=d[0],j=d[1],p=Object(i.useRef)("year");P.a.RangePicker;Object(i.useEffect)((function(){h("year","Spring Airlines")}),[]);var h=function(e,t){b.a.get("http://localhost:8080/airlineStaff/revenueComparison",{params:{past:e,airlineName:"Spring Airlines"}}).then((function(e){k.b.success("Data loaded!");var t=e.data.map((function(e){return{type:e.type,value:e.value}})),a=t.reduce(O,0);r(t),j(a)})).catch((function(){k.b.error("\u8bbf\u95ee\u8d85\u65f6\uff0c\u4f7f\u7528\u9ed8\u8ba4\u6570\u636e"),r(g)}))},O=function(e,t){return e+t.value},g=[{type:"\u5206\u7c7b\u4e00",value:27},{type:"\u5206\u7c7b\u4e8c",value:25},{type:"\u5206\u7c7b\u4e09",value:18},{type:"\u5206\u7c7b\u56db",value:15},{type:"\u5206\u7c7b\u4e94",value:10},{type:"\u5176\u4ed6",value:5}],v={appendPadding:10,data:a,angleField:"value",colorField:"type",radius:.75,label:{type:"spider",labelHeight:28,content:"{name}\n{percentage}"},interactions:[{type:"element-selected"},{type:"element-active"}]},S=function(){p.current="year",h("year","Spring Airlines")},C=function(){p.current="month",h("month","Spring Airlines")},A=Boolean(a);return Object(f.jsxs)(I.a,{title:"Here is the brief report",tabList:[{key:"revenue",tab:"Revenue Comparison"}],hoverable:!0,tabBarExtraContent:Object(f.jsxs)(J.b,{direction:"horizontal",size:12,children:[Object(f.jsx)(l.a,{onClick:S,type:"primary",children:"Last Year"}),Object(f.jsx)(l.a,{onClick:C,type:"primary",children:"Last Month"})]}),children:[Object(f.jsx)(xe.a,{title:"Total Sales in (USD) over the last "+p.current,value:m,loading:!A,precision:2,style:{width:"100%"}}),!a&&Object(f.jsx)(Ze.a,{size:"large"}),a&&Object(f.jsx)(me.a,Object(x.a)({},v))]})}b.a.defaults.timeout=1e3,b.a.defaults.timeout=1e3;var tt=a(679);b.a.defaults.timeout=1e3;P.a.RangePicker;function at(e){var t=e.loginInfo,a=Object(i.useState)("sales"),r=Object(y.a)(a,2),n=(r[0],r[1],Object(i.useState)(10)),s=Object(y.a)(n,2),c=s[0],l=s[1],o=Object(i.useState)([]),u=Object(y.a)(o,2),d=u[0],m=u[1],j=Object(i.useRef)(null),p=Object(i.useState)(!1),h=Object(y.a)(p,2),O=h[0],g=h[1],v=Object(i.useState)(""),S=Object(y.a)(v,2),C=S[0],A=S[1],N=Object(i.useState)([]),T=Object(y.a)(N,2),w=T[0],D=T[1],F=[{customer:"22@23.com",tickets:2},{customer:"22@25.com",tickets:8},{customer:"aa@23.com",tickets:3},{customer:"s2a@43.com",tickets:12},{customer:"12@23.com",tickets:5}],P=[{key:"1",flight_id:"MA1234",airline:"Cathay Pacific",dept_time:"2020-03-03",arri_time:"2021-01-01",price:9090,dept:"PVG",arri:"SZX",status:["on time"]},{key:"2",flight_id:"MH3455",airline:"Cathay Pacific",dept_time:"2020-03-03",arri_time:"2021-01-01",price:9090,dept:"PVG",arri:"SZX",status:["on time"]},{key:"3",flight_id:"MK5888",airline:"Cathay Pacific",dept_time:"2020-03-03",arri_time:"2021-01-01",price:9090,dept:"PVG",arri:"SZX",status:["on time"]},{key:"4",flight_id:"MK5888",airline:"Cathay Pacific",dept_time:"2020-03-03",arri_time:"2021-01-01",price:9090,dept:"PVG",arri:"SZX",status:["on time"]},{key:"5",flight_id:"MK5888",airline:"Cathay Pacific",dept_time:"2020-03-03",arri_time:"2021-01-01",price:9090,dept:"PVG",arri:"SZX",status:["on time"]},{key:"6",flight_id:"MK5888",airline:"Cathay Pacific",dept_time:"2020-03-03",arri_time:"2021-01-01",price:9090,dept:"PVG",arri:"SZX",status:["on time"]},{key:"7",flight_id:"MK5888",airline:"Cathay Pacific",dept_time:"2020-03-03",arri_time:"2021-01-01",price:9090,dept:"PVG",arri:"SZX",status:["on time"]},{key:"8",flight_id:"MK5888",airline:"Cathay Pacific",dept_time:"2020-03-03",arri_time:"2021-01-01",price:9090,dept:"PVG",arri:"SZX",status:["on time"]},{key:"9",flight_id:"MK5888",airline:"Cathay Pacific",dept_time:"2020-03-03",arri_time:"2021-01-01",price:9090,dept:"PVG",arri:"SZX",status:["on time"]},{key:"10",flight_id:"MK5888",airline:"Cathay Pacific",dept_time:"2020-03-03",arri_time:"2021-01-01",price:9090,dept:"PVG",arri:"SZX",status:["on time"]},{key:"11",flight_id:"MK5888",airline:"Cathay Pacific",dept_time:"2020-03-03",arri_time:"2021-01-01",price:9090,dept:"PVG",arri:"SZX",status:["on time"]},{key:"12",flight_id:"MK5888",airline:"Cathay Pacific",dept_time:"2020-03-03",arri_time:"2021-01-01",price:9090,dept:"PVG",arri:"SZX",status:["on time"]}],M=[{title:"Flight Number",dataIndex:"flight_id",key:"flight_id"},{title:"Airline",dataIndex:"airline",key:"airline"},{title:"Dept. Time",dataIndex:"dept_time",key:"dept_time"},{title:"Arri. Time",dataIndex:"arri_time",key:"arri_time"},{title:"Dept. Airport",dataIndex:"dept",key:"dept"},{title:"Arri. Airport",dataIndex:"arri",key:"arri"},{title:"Price",dataIndex:"price",key:"price"},{title:"Status",dataIndex:"status",key:"status",render:function(e){return Object(f.jsx)(f.Fragment,{children:e.map((function(e){return Object(f.jsx)(X.a,{color:Z[e],children:e.toUpperCase()},e)}))})}}];Object(i.useEffect)((function(){Y(c)}),[]);var R=function(e){l(e),e>c&&Y(e)},Y=function(e){b.a.get("http://localhost:8080/airlineStaff/getTopKCustomers",{params:{K:e,airlineName:t.current?t.current.airlineName:null}}).then((function(e){if(e.data){j.current=e.data;var t=V();k.b.destroy(),k.b.success("Data Loaded!"),m(t)}})).catch((function(e){m(F),D(P),k.b.destroy(),k.b.error("Data Loading Failed!")}))},V=function(e,t){return j.current.map((function(e){return{customer:e.email,tickets:e.ticketsTotal}}))},_={data:d?d.slice(0,c):[],xField:"tickets",yField:"customer",legend:{position:"top-left"},barBackground:{style:{fill:"rgba(0,0,0,0.1)"}},interactions:[{type:"active-region",enable:!1}],meta:{type:{alias:"Customer Email"},tickets:{alias:"Number of Tickets Bought"}}},B=function(e){var t=function(e){if(null===j.current)return P;var t=j.current.filter((function(t){return t.email===e}))[0];return 0==t.length?[]:t.takenFlights.map((function(e){return{key:[e.flightNum,e.airlineName],flight_id:e.flightNum,airline:e.airlineName,dept_time:te()(e.departureTime).format("yyyy-MM-DD HH:mm:ss"),arri_time:te()(e.arrivalTime).format("yyyy-MM-DD HH:mm:ss"),dept:e.sourceAirportName,arri:e.destAirportName,price:e.price,status:[e.status]}}))}(e.data.data.customer);D(t),A(e.data.data.customer),g(!0)};return Object(f.jsxs)(I.a,{tabList:[{key:"customer",tab:"Most Frequent Customers"}],tabBarExtraContent:Object(f.jsxs)(J.b,{direction:"horizontal",size:10,children:[Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("span",{style:{marginRight:2},children:"Top"}),Object(f.jsx)(fe.a,{min:1,onChange:R,defaultValue:5}),Object(f.jsx)("span",{style:{marginLeft:2},children:"Customers"})]}),Object(f.jsx)(Se.a,{color:"orange",placement:"topLeft",title:"Click the bar to check the flights taken",children:Object(f.jsx)(tt.a,{})})]}),hoverable:!0,children:[!d&&Object(f.jsx)(Ze.a,{size:"large"}),d&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(Xe.a,Object(x.a)(Object(x.a)({},_),{},{sort:!0,onReady:function(e){e.chart.on("element:click",B)}})),Object(f.jsx)(E.a,{destroyOnClose:!0,title:"Flight Taken with "+C,visible:O,onCancel:function(){g(!1)},width:900,children:Object(f.jsx)(I.a,{children:Object(f.jsx)(W.a,{columns:M,dataSource:w,size:"middle"})})})]})]})}S.a.Search;var it=F.a.Option;function rt(e){var t=e.loginInfo,a=Object(i.useState)(void 0),r=Object(y.a)(a,2),n=(r[0],r[1],Object(i.useState)([])),s=Object(y.a)(n,2),c=s[0],o=(s[1],Object(m.f)(),c.map((function(e,t){return Object(f.jsx)(it,{children:e},t)})),v.a.useForm()),u=Object(y.a)(o,1)[0];return Object(f.jsx)(I.a,{title:"Add Booking Agents",children:Object(f.jsxs)(v.a,Object(x.a)(Object(x.a)({},{labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}}),{},{form:u,name:"Add Agents",onFinish:function(e){b.a.post("http://localhost:8080/airlineStaff/addBookingAgent",D.a.stringify(Object(x.a)(Object(x.a)({},e),{},{airlineName:t.current?t.current.airlineName:"Spring Airlines"}))).then((function(e){if(e.data)if(!0===e.data.success)k.b.success("Addition Succeeded!");else{var t=e.data;t&&(!1===t.emailValid?u.setFields([{name:"email",errors:["BookingAgent Not Found!"]}]):!1===t.workingValid&&u.setFields([{name:"email",errors:["BookingAgent has already been assigned this airline!"]}]))}}))},scrollToFirstError:!0,children:[Object(f.jsx)(v.a.Item,{name:"email",label:"Agent Email",rules:[{required:!0,message:"Please don't leave blank the agent information!"},{type:"email",message:"Please input the right format of an email"}],hasFeedback:!0,children:Object(f.jsx)(S.a,{style:{width:"80%"}})}),Object(f.jsx)(v.a.Item,Object(x.a)(Object(x.a)({},{wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}}),{},{children:Object(f.jsx)(l.a,{type:"primary",htmlType:"submit",children:"Add"})}))]}))})}var nt=a(187).a.Group,st=["Admin","Operator"],ct=["Admin"];function lt(e){e.loginInfo;var t=r.a.useState(ct),a=Object(y.a)(t,2),i=a[0],n=a[1],s=v.a.useForm(),c=Object(y.a)(s,1)[0];return Object(f.jsx)(I.a,{title:"Grant Permission",children:Object(f.jsxs)(v.a,Object(x.a)(Object(x.a)({},{labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}}),{},{form:c,name:"Add Agents",onFinish:function(e){c.setFields([{name:"username",errors:[]}]),c.setFields([{name:"permission",errors:[]}]),b()({url:"http://localhost:8080/airlineStaff/grantPermission",method:"POST",data:{userName:e.username,airlineName:"Cathay Pacific",permission:i}}).then((function(e){if(e.data)if(!0===e.data.success)k.b.success("Success");else{var t=e.data;!1===t.nameValid?c.setFields([{name:"username",errors:["AirlineStaff Not Found!"]}]):!1===t.permissionValid&&c.setFields([{name:"permission",errors:["The airlineStaff already has the permission!"]}])}}))},scrollToFirstError:!0,children:[Object(f.jsx)(v.a.Item,{name:"username",label:"Staff UserName",rules:[{required:!0,message:"Please input the username!"}],children:Object(f.jsx)(S.a,{})}),Object(f.jsx)(v.a.Item,{name:"permission",label:"Permission Type",children:Object(f.jsx)(nt,{options:st,value:ct,onChange:function(e){n(e)}})}),Object(f.jsx)(v.a.Item,Object(x.a)(Object(x.a)({},{wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}}),{},{children:Object(f.jsx)(l.a,{type:"primary",htmlType:"submit",children:"Grant Permission"})}))]}))})}a(1169);var ot=Y.a.Header,ut=Y.a.Content,dt=Y.a.Sider,mt=Y.a.Footer;V.a.SubMenu;function jt(e){var t=e.initializingTab,a=Object(m.f)(),r=Object(i.useState)("customer"),n=Object(y.a)(r,2),s=n[0],c=n[1],l=Object(i.useState)(""),o=Object(y.a)(l,2),u=o[0],d=o[1],j=Object(i.useState)(!1),p=Object(y.a)(j,2),h=p[0],O=p[1],g=Object(i.useState)(null),v=Object(y.a)(g,2),I=v[0],S=v[1],A=Object(i.useState)(""),T=Object(y.a)(A,2),w=T[0],D=T[1],F=Object(i.useState)(!1),P=Object(y.a)(F,2),R=P[0],z=P[1],G=Object(i.useState)(!1),U=Object(y.a)(G,2),W=U[0],Z=U[1],X=Object(i.useState)(!1),J=Object(y.a)(X,2),$=J[0],Q=J[1],ee=Object(i.useState)("customer"),te=Object(y.a)(ee,2),ae=te[0],ie=te[1],re=Object(i.useState)(void 0),ne=Object(y.a)(re,2),se=ne[0],ce=ne[1],le=Object(i.useState)(void 0),oe=Object(y.a)(le,2),ue=oe[0],me=oe[1],be=Object(i.useRef)(null),he=Object(i.useRef)(null);Object(i.useEffect)((function(){c(t),b()({url:"http://localhost:8080/index/findAllFlights",method:"GET"}).then((function(e){e.data?(be.current=e.data,S(be.current)):console.log("No Results")})).catch((function(e){k.b.destroy(),k.b.error("Back end server not started!")}))}),["default"]),Object(i.useEffect)((function(){b()({url:"http://localhost:8080/login/token",method:"POST"}).then((function(e){if(e.data){if(1==e.data.status){var t=e.data.userType;if("staff"===t){var i=e.data.airlineStaff.username,r=Object(x.a)({alias:i},e.data.airlineStaff);he.current=r,k.b.success("Welcome Back, "+i),a("/staff",{replace:!0})}else if("customer"===t){var n=e.data.customer.name,s=Object(x.a)({alias:n},e.data.customer);he.current=s,k.b.success("Welcome Back, "+n),a("/customer",{replace:!0})}else if("agent"===t){var l=e.data.bookingAgent.email,o=Object(x.a)({alias:l},e.data.bookingAgent);he.current=o,k.b.success("Welcome Back, "+l),a("/agent",{replace:!0})}c(t)}}else k.b.destroy(),k.b.error("\u60a8\u5c1a\u672a\u767b\u5f55"),c("global"),a("/global",{replace:!0})})).catch((function(e){k.b.destroy(),k.b.error("Backend Server not started!")}))}),[1]);var fe={customer:Object(f.jsx)(K,{loginInfo:he,setDeptDate:me,updateSelection:d,setActionType:D,defaultData:be,setFlightResult:S}),agent:Object(f.jsx)(pe,{loginInfo:he,setDeptDate:me,updateSelection:d,setActionType:D,defaultData:be,setFlightResult:S}),staff:Object(f.jsx)(Ae,{loginInfo:he,setDeptDate:me,updateSelection:d,setActionType:D,setFlightResult:S}),global:Object(f.jsx)(De,{loginInfo:he,setDeptDate:me,updateSelection:d,setActionType:D,setFlightResult:S})},Oe={"Flight CRUD":Object(f.jsx)(We,{loginInfo:he}),"My flights":Object(f.jsx)(de,{setNavigateBar:c,loginInfo:he,userType:s,actionTab:"view",deptDate:ue,setDeptDate:me,flightsResult:I,setFlightResult:S,actionType:w}),"Search flights":Object(f.jsx)(de,{setNavigateBar:c,userType:s,deptDate:ue,setDeptDate:me,loginInfo:he,actionTab:"search",flightsResult:I,setFlightResult:S,actionType:w}),"Purchase tickets":Object(f.jsx)(de,{setNavigateBar:c,deptDate:ue,setDeptDate:me,userType:s,loginInfo:he,actionTab:"purchase",flightsResult:I,setFlightResult:S,actionType:w}),"Track spending":Object(f.jsx)(je,{loginInfo:he}),"Top customers":Object(f.jsx)(ge,{loginInfo:he}),"Create order":Object(f.jsx)(de,{setNavigateBar:c,deptDate:ue,setDeptDate:me,userType:s,loginInfo:he,actionTab:"purchase",flightsResult:I,setFlightResult:S,actionType:w}),"My customer orders":Object(f.jsx)(de,{setNavigateBar:c,deptDate:ue,setDeptDate:me,userType:s,loginInfo:he,actionTab:"search",flightsResult:I,setFlightResult:S,actionType:w}),"Commission statistics":Object(f.jsx)(ve,{loginInfo:he}),"Add airport":Object(f.jsx)(Ne,{loginInfo:he}),"Add airplane":Object(f.jsx)(Te,{loginInfo:he}),"Add booking agent":Object(f.jsx)(rt,{loginInfo:he}),"View Agents":Object(f.jsx)(Je,{loginInfo:he}),"View Reports":Object(f.jsx)($e,{setNavigateBar:c,loginInfo:he}),"Top destinations":Object(f.jsx)(Qe,{}),"Revenue Comparison":Object(f.jsx)(et,{loginInfo:he}),"Frequent customers":Object(f.jsx)(at,{loginInfo:he}),"Grant permission":Object(f.jsx)(lt,{loginInfo:he})},xe=Object(f.jsxs)(V.a,{children:[!he.current&&Object(f.jsx)(V.a.Item,{icon:Object(f.jsx)(L.a,{}),children:Object(f.jsx)("a",{onClick:function(){z(!0)},children:"Log In"})}),he.current&&Object(f.jsx)(V.a.Item,{icon:Object(f.jsx)(C.a,{}),children:Object(f.jsx)("a",{onClick:function(){Z(!0)},children:"Account Information"})})]}),ye=[{title:"Email",description:he.current?he.current.email:""},{title:"Name",description:he.current?he.current.name:""}],ke=[{title:"Email",description:he.current?he.current.email:""},{title:"Your Id",description:he.current?he.current.bookingAgentId:""}],Ie=[{title:"User Name",description:he.current?he.current.username:""},{title:"First Name",description:he.current?he.current.firstName:""},{title:"Last Name",description:he.current?he.current.lastName:""},{title:"Permission Level",description:he.current&&he.current.permissionDescription?he.current.permissionDescription.join(", "):""},{title:"Airline",description:he.current?he.current.airlineName:""}];["Admin","Operator"].join(", ");return Object(f.jsxs)(Y.a,{children:[Object(f.jsx)(E.a,{destroyOnClose:!0,title:"Account Information",visible:W,onCancel:function(){Z(!1)},footer:[],children:Object(f.jsx)(_.b,{itemtlayout:"horizontal",dataSource:he.current?"customer"===s?ye:"staff"===s?Ie:ke:[{}],renderItem:function(e){return Object(f.jsx)(_.b.Item,{children:Object(f.jsx)(_.b.Item.Meta,{title:e.title,description:e.description})})}})}),Object(f.jsx)(E.a,{destroyOnClose:!0,title:"Login",visible:R,onCancel:function(){z(!1)},footer:[],children:Object(f.jsx)(N,{loginInfo:he,registerLoginValue:se,setRegisterLoginValue:ce,setInitializeType:ie,setLoginModalVisible:z,setNavigateBar:c,setRegisterModalVisible:Q})}),Object(f.jsx)(E.a,{destroyOnClose:!0,title:"Login",visible:$,onCancel:function(){Q(!1)},footer:[],children:Object(f.jsx)(M,{initializeType:ae,setRegisterLoginValue:ce,setNavigateBar:c,setRegisterModalVisible:Q})}),Object(f.jsx)(ot,{className:"header",style:{position:"fixed",zIndex:2,width:"100%"},children:Object(f.jsxs)(V.a,{theme:"dark",mode:"horizontal",defaultSelectedKeys:[t],selectedKeys:[s],style:{marginLeft:"100px"},children:[Object(f.jsx)(V.a.Item,{children:"Customer"},"customer"),Object(f.jsx)(V.a.Item,{children:"Agent"},"agent"),Object(f.jsx)(V.a.Item,{children:"Staff"},"staff"),Object(f.jsx)(V.a.Item,{children:"Global"},"global")]})}),Object(f.jsx)(B.a,{overlay:xe,children:he.current?Object(f.jsx)(q.a,{style:{marginLeft:"1200px",zIndex:3,position:"fixed",top:"10px",color:"#f56a00",backgroundColor:"#fde3cf"},size:"large",children:he.current?he.current.alias[0].toUpperCase():null}):Object(f.jsx)(q.a,{style:{marginLeft:"1200px",zIndex:3,position:"fixed",top:"10px"},size:"large",icon:Object(f.jsx)(C.a,{})})}),Object(f.jsxs)(Y.a,{style:{minHeight:"91vh",marginTop:64},children:[Object(f.jsx)(dt,{width:250,height:100,className:"site-layout-background",collapsible:!0,collapsed:h,onCollapse:O,children:fe[s]}),Object(f.jsxs)(Y.a,{style:{padding:"0 24px 24px"},children:[Object(f.jsxs)(H.a,{style:{margin:"16px 0"},children:[Object(f.jsx)(H.a.Item,{children:"Home"}),Object(f.jsx)(H.a.Item,{children:s.charAt(0).toUpperCase()+s.slice(1)}),Object(f.jsx)(H.a.Item,{children:u})]}),Object(f.jsx)(ut,{className:"site-layout-background",style:{padding:24,margin:0},children:Oe[u]}),Object(f.jsx)(Y.a,{style:{textAlign:"center",marginBottom:0},children:Object(f.jsx)(mt,{children:"2021 Global Airline All rights reserved."})})]})]})]})}function bt(){return Object(f.jsx)(u.a,{children:Object(f.jsxs)(m.c,{children:[Object(f.jsx)(m.a,{path:"/",element:Object(f.jsx)(g,{})}),Object(f.jsx)(m.a,{path:"/customer",element:Object(f.jsx)(jt,{initializingTab:"customer"})}),Object(f.jsx)(m.a,{path:"/agent",element:Object(f.jsx)(jt,{initializingTab:"agent"})}),Object(f.jsx)(m.a,{path:"/staff",element:Object(f.jsx)(jt,{initializingTab:"staff"})}),Object(f.jsx)(m.a,{path:"/global",element:Object(f.jsx)(jt,{initializingTab:"global"})})]})})}b.a.defaults.withCredentials=!0,b.a.defaults.timeout=2e3,s.a.render(Object(f.jsx)(bt,{}),document.getElementById("root")),R()},720:function(e,t,a){}},[[1170,1,2]]]);
//# sourceMappingURL=main.65ddef49.chunk.js.map